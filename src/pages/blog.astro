---
import { getEntry, getEntries } from "astro:content";
import Layout from "../layouts/Layout.astro";
import { Image, Picture } from "astro:assets";

const blogPost = await getEntry("blog", "welcome")!;

// Resolve a singular reference (e.g. `{collection: "authors", id: "ben-holmes"}`)
const author = await getEntry(blogPost.data.author);
// Resolve an array of references
// (e.g. `[{collection: "blog", id: "about-me"}, {collection: "blog", id: "my-year-in-review"}]`)
const relatedPosts = await getEntries(blogPost.data.relatedPosts!);
---

<Layout>
  <section>
    <div class="container">
      <div class="description">
        <div class="arrow">→</div>
        <div class="left">
          <h3 class="heading-primary">
            Entre idées, chantiers et innovations : suivez notre actualité au
            cœur de l’architecture et du bâtiment
          </h3>
          <h6 class="heading-secondary">
            nous vous partageons ici l’envers du décor, les tendances qui nous
            animent et notre approche sur la manière de bâtir intelligemment.
          </h6>
        </div>

        <div class="approach">
          <div class="list">
            <div class="topics">
              <div class="taxonomy">Projets & Réalisations</div>
              <ul>
                <li>
                  Retour sur notre chantier de logements collectifs à
                  Brazzaville
                </li>
                <li>
                  Les coulisses d’un projet : de la maquette au permis de
                  construire
                </li>
                <li>Rénovation d’un bâtiment ancien : enjeux et solutions</li>
              </ul>
            </div>

            <div class="topics">
              <div class="taxonomy">Matériaux & Techniques</div>
              <ul>
                <li>Béton bas carbone : quelles solutions aujourd’hui ?</li>
                <li>
                  Bois, acier, terre crue : pourquoi nous diversifions les
                  matériaux
                </li>
                <li>
                  L’importance de la lumière naturelle dans nos constructions
                </li>
              </ul>
            </div>

            <div class="topics">
              <div class="taxonomy">Architecture & Design</div>
              <ul>
                <li>5 tendances architecturales à suivre en 2025</li>
                <li>L’architecture minimaliste : fonction et élégance</li>
                <li>Comment concevoir un espace de vie fluide et harmonieux</li>
              </ul>
            </div>

            <div class="topics">
              <div class="taxonomy">Durabilité & Innovation</div>
              <ul>
                <li>Construction durable : nos engagements au quotidien</li>
                <li>
                  Réemploi des matériaux : un levier écologique et économique
                </li>
                <li>
                  L’intégration des énergies renouvelables dans l’architecture
                </li>
              </ul>
            </div>

            <div class="topics">
              <div class="taxonomy">Vie du cabinet</div>
              <ul>
                <li>Rencontre avec notre équipe : qui fait quoi ?</li>
                <li>
                  Notre méthodologie : comment nous accompagnons nos clients
                </li>
                <li>
                  Visite virtuelle de nos bureaux et de notre atelier de
                  maquettes
                </li>
              </ul>
            </div>

            <div class="topics">
              <div class="taxonomy">Pédagogie & Conseils</div>
              <ul>
                <li>
                  7 erreurs fréquentes dans un projet de construction (et
                  comment les éviter)
                </li>
                <li>Faut-il un architecte pour une maison individuelle ?</li>
                <li>
                  Quelles sont les étapes clés avant de déposer un permis de
                  construire ?
                </li>
              </ul>
            </div>

            <div class="topics">
              <div class="taxonomy">Réflexions & Vision</div>
              <ul>
                <li>
                  Quelle place pour l’architecture dans une société en
                  transition ?
                </li>
                <li>
                  Comment bâtir pour demain ? Nos convictions pour un habitat
                  durable
                </li>
                <li>
                  Le rapport au temps en architecture : construire pour durer
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="text-description">
          <img
            class="thumbnail"
            src="https://freight.cargo.site/w/600/q/75/i/255201b72ef43a97ce144814488a90084bbd4a346cfb642fb89231ea59c84f40/Screen-Shot-2024-08-09-at-1.08.37-PM.png"
            alt=""
          />
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .description {
    padding: 0;
    margin: 0;
    display: grid;
    position: relative;
    grid-template-columns: repeat(5, 1fr);
  }

  .description .arrow {
    letter-spacing: -0.02em;
    font-size: 2.75rem;
    line-height: 1.13;
    grid-column: 1;
  }

  .description .left {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    grid-column: 2 / span 5;
    z-index: 1;

    .heading-primary {
      color: var(--accents-7);
    }

    .heading-secondary {
      font-size: 0.8rem;
      color: var(--accents-6);
    }
  }

  .description .approach {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    grid-column: 2 / span 2;

    .list {
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .list .topics {
      color: var(--accents-8);
      font-size: 0.8rem;
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.3rem;
    }

    .list .topics ul {
      width: 100%;

      & > * {
        color: var(--accents-6);
        margin-bottom: 0.8rem;
        cursor: pointer;

        &:hover {
          color: var(--durand-orange);
          text-decoration: underline;
        }
      }
    }
  }

  .description .text-description {
    position: fixed;
    grid-column: 4 / span 2;
    align-self: start;

    img {
      width: 200px;
      object-fit: cover;
      z-index: -10;
    }
  }

  .description .text-description .thumbnail {
    top: 2rem;
  }

  .description .text-description,
  .approach {
    padding-block: 6rem;
  }

  .description p {
    font-size: 0.8rem;
    color: var(--accents-6);

    margin-bottom: 1rem;
  }
</style>
